<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>System Overview | Notifications Documentation</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/w3-notifications/notifications-doc-site/assets/css/0.styles.169225e2.css" as="style"><link rel="preload" href="/w3-notifications/notifications-doc-site/assets/js/app.06569659.js" as="script"><link rel="preload" href="/w3-notifications/notifications-doc-site/assets/js/1.08618908.js" as="script"><link rel="prefetch" href="/w3-notifications/notifications-doc-site/assets/js/5.12826fbf.js"><link rel="prefetch" href="/w3-notifications/notifications-doc-site/assets/js/2.9d888cb6.js"><link rel="prefetch" href="/w3-notifications/notifications-doc-site/assets/js/3.0b008db1.js"><link rel="prefetch" href="/w3-notifications/notifications-doc-site/assets/js/4.6ee23ea1.js"><link rel="prefetch" href="/w3-notifications/notifications-doc-site/assets/js/6.a47fe071.js"><link rel="prefetch" href="/w3-notifications/notifications-doc-site/assets/js/7.a5630eac.js"><link rel="prefetch" href="/w3-notifications/notifications-doc-site/assets/js/8.2a9676c9.js"><link rel="prefetch" href="/w3-notifications/notifications-doc-site/assets/js/9.68b0abc7.js"><link rel="prefetch" href="/w3-notifications/notifications-doc-site/assets/js/10.d27a2f02.js">
    <link rel="stylesheet" href="/w3-notifications/notifications-doc-site/assets/css/0.styles.169225e2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/w3-notifications/notifications-doc-site/" class="home-link router-link-active"><!----> <span class="site-name">Notifications Documentation</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/w3-notifications/notifications-doc-site/" class="nav-link">Home</a></div><div class="nav-item"><a href="/w3-notifications/notifications-doc-site/standards/" class="nav-link">Standards</a></div><div class="nav-item"><a href="/w3-notifications/notifications-doc-site/system_design/" class="nav-link router-link-active">System Design</a></div> <a href="https://github.ibm.com/w3-notifications/notifications-doc-site/" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/w3-notifications/notifications-doc-site/" class="nav-link">Home</a></div><div class="nav-item"><a href="/w3-notifications/notifications-doc-site/standards/" class="nav-link">Standards</a></div><div class="nav-item"><a href="/w3-notifications/notifications-doc-site/system_design/" class="nav-link router-link-active">System Design</a></div> <a href="https://github.ibm.com/w3-notifications/notifications-doc-site/" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Software Design Specification Document</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/w3-notifications/notifications-doc-site/system_design/" class="sidebar-link">Introduction</a></li><li><a href="/w3-notifications/notifications-doc-site/system_design/overview.html" class="active sidebar-link">System Overview</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/w3-notifications/notifications-doc-site/system_design/overview.html#publish-subscribe-model" class="sidebar-link">Publish-Subscribe model</a></li><li class="sidebar-sub-header"><a href="/w3-notifications/notifications-doc-site/system_design/overview.html#graphql-services" class="sidebar-link">GraphQL Services</a></li><li class="sidebar-sub-header"><a href="/w3-notifications/notifications-doc-site/system_design/overview.html#background-processes" class="sidebar-link">Background processes</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="system-overview"><a href="#system-overview" aria-hidden="true" class="header-anchor">#</a> System Overview</h1> <p>For all w3 users, who want to be informed of changes with high relevance to them, w3 Notifications proactively provides updates across the w3 ecosystem and allows users to centrally manage them. Unlike email and slack, w3 Notifications will maintain a high signal-to-noise ratio by only including information that is opted into by the user, or of critical importance.</p> <p>Notifications system is simply a way for a predefined type of events such as content publish/update, comments etc. in the source site to trigger a notification i.e. send an instant email, web-notification, send an email digest. Using Notification system users can subscribe to a content/blog/page and authors can centrally manage the notification preferences for comments. Users can opt for instant, daily, weekly notification for type as email. In case of web-notifications (bell icon), users can either turn on/off preference.</p> <p>To effectively handle the above discussed Notification system requirements, we have designed a Publish-Subscribe model coupled with web services for the adopters to consume and a few backend processes to enable the notification system work flow.</p> <h2 id="publish-subscribe-model"><a href="#publish-subscribe-model" aria-hidden="true" class="header-anchor">#</a> Publish-Subscribe model</h2> <p>The publish-subscribe paradigm provides a framework for the exchange of data between independent applications in an event-driven manner, by decoupling the sources of information (publishers) from its consumers (subscribers). Publishers publish messages onto the network and subscribers anonymously receive messages without having to request them, unlike the traditional request-reply communications model, where each request must be queued and answered individually. We use Apache Kafka as a stream processing platform.</p> <h2 id="graphql-services"><a href="#graphql-services" aria-hidden="true" class="header-anchor">#</a> GraphQL Services</h2> <p>Adopters consume the web services provided by our Notification system and submit a notification request in case of any event on the adopter page. Notification system implements below services:</p> <ul><li>Notification service: This service accepts a Notification request from the adopter site and then does some basic request validation and published the message/request to a queue (in this case we are using Kafka Queue as a Publish-Subscribe model define above). This service is asynchronous service; meaning this service doesn’t wait for the complete request to process. It returns a response to the adopter page that a request has been submitted successfully.
<ul><li>The simplest standard example is, for instance, when a user receives a comment or is tagged in content, he or she can receive notification through email/web-notification of that event. Some possible extensions of this include receiving notification of events that happen to objects connected to a user (such as comments on content, actions on a comment group, etc.).</li></ul></li> <li>Subscription service: This service provides the subscription capabilities for the adapter site. For example, when a user wants to subscribe to a blog, he/she can request for a subscription from the adopter page. Then notification system facilitates the process of subscription and then uniquely identifies and maintains user and page/blog relationship. Establishing this relationship helps Notification system background processes to identify qualified users and dispatch Notifications to users.</li></ul> <h2 id="background-processes"><a href="#background-processes" aria-hidden="true" class="header-anchor">#</a> Background processes</h2> <p>Now we have the details of user subscriptions (from Subscription service) and with some incoming notification request on Queue, published on Kafka queue (by Notification service), background processes will read the published message from queue, validate it, identify the targeted users to be notified, does some preprocessing like creating digest/instant notification message and then dispatches email/web notifications either instant
or frequency based (daily, weekly).</p> <p>For dispatching emails, Notification system implements Email dispatcher service which relies on external SMTP email servers. This Email dispatcher service is responsible to send email digest notification on a daily, weekly basis based on user preferences.</p> <p>To dispatch instant web notifications (bell icon), Notification system implements <strong>Web Notification Service (Bell dispatcher)</strong>.</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.ibm.com/w3-notifications/notifications-doc-site/edit/master/system_design/overview.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">3/10/2019, 10:57:38 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/w3-notifications/notifications-doc-site/system_design/" class="prev router-link-active">
          Introduction
        </a></span> <!----></p></div> </div> <!----></div></div>
    <script src="/w3-notifications/notifications-doc-site/assets/js/1.08618908.js" defer></script><script src="/w3-notifications/notifications-doc-site/assets/js/app.06569659.js" defer></script>
  </body>
</html>
